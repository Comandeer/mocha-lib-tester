#!/usr/bin/env node

const yargs = require( 'yargs/yargs' );
const { hideBin } = require( 'yargs/helpers' );
const mlt = require( '../dist/mocha-lib-tester.js' );
const argv = yargs( hideBin( process.argv ) ).argv;

// undefined guarantees that the bin will fallback
// to the default set of steps.
const steps = argv._.length > 0 ? argv._ : undefined;

mlt( steps ).then( ( exitCode ) => {
	process.exit( exitCode );
} ).catch( ( error ) => {
	console.error( error ); // eslint-disable-line
	process.exit( 1 );
} );
